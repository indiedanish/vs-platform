import{c as F,i as q,d as k,r as c,j as e,a as h,I as n,B as p}from"./index-DJZj13a9.js";import{C as L,b as R,c as A,d as T,a as U}from"./card-C5JX6E1Y.js";import{A as O,a as D,L as t}from"./alert-DXNIAuY4.js";import{S as I,a as V,b as B,c as M,d as N}from"./select-Cr9rPIAG.js";import{E as y}from"./eye-off-Bkj6rDUL.js";import{E as w}from"./eye-h43dRJCD.js";/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],H=F("user-plus",z),Q=()=>{const g=q(),{register:v,isLoading:u}=k(),[s,f]=c.useState({firstName:"",lastName:"",username:"",email:"",password:"",confirmPassword:"",role:"CONSUMER"}),[m,C]=c.useState(!1),[d,b]=c.useState(!1),[a,x]=c.useState({}),i=r=>{const{name:l,value:j}=r.target;f(o=>({...o,[l]:j})),a[l]&&x(o=>({...o,[l]:""}))},P=r=>{f(l=>({...l,role:r}))},S=()=>{const r={};return s.firstName.trim()||(r.firstName="First name is required"),s.lastName.trim()||(r.lastName="Last name is required"),s.username.trim()||(r.username="Username is required"),s.email.trim()?/\S+@\S+\.\S+/.test(s.email)||(r.email="Please enter a valid email address"):r.email="Email is required",s.password?s.password.length<6&&(r.password="Password must be at least 6 characters long"):r.password="Password is required",s.confirmPassword?s.password!==s.confirmPassword&&(r.confirmPassword="Passwords do not match"):r.confirmPassword="Please confirm your password",x(r),Object.keys(r).length===0},E=async r=>{if(r.preventDefault(),!S())return;if(await v({firstName:s.firstName.trim(),lastName:s.lastName.trim(),username:s.username.trim(),email:s.email.trim(),password:s.password,role:s.role})){const o=new URLSearchParams(window.location.search).get("redirectTo")||"/";g(o)}else x({general:"Registration failed. Please try again."})};return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs(h,{to:"/",className:"inline-flex items-center space-x-2 text-2xl font-bold text-primary",children:[e.jsx("div",{className:"w-10 h-10 bg-primary rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold",children:"CV"})}),e.jsx("span",{children:"CloudVideoShare"})]}),e.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Create your account"}),e.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Or"," ",e.jsx(h,{to:"/login",className:"font-medium text-primary hover:text-primary/80",children:"sign in to your existing account"})]})]}),e.jsxs(L,{children:[e.jsxs(R,{children:[e.jsx(A,{children:"Get started"}),e.jsx(T,{children:"Create your account to start watching and sharing videos"})]}),e.jsxs(U,{children:[e.jsxs("form",{onSubmit:E,className:"space-y-4",children:[a.general&&e.jsx(O,{variant:"destructive",children:e.jsx(D,{children:a.general})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"firstName",children:"First name"}),e.jsx(n,{id:"firstName",name:"firstName",type:"text",autoComplete:"given-name",required:!0,value:s.firstName,onChange:i,placeholder:"First name",className:a.firstName?"border-red-500":""}),a.firstName&&e.jsx("p",{className:"text-sm text-red-600",children:a.firstName})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"lastName",children:"Last name"}),e.jsx(n,{id:"lastName",name:"lastName",type:"text",autoComplete:"family-name",required:!0,value:s.lastName,onChange:i,placeholder:"Last name",className:a.lastName?"border-red-500":""}),a.lastName&&e.jsx("p",{className:"text-sm text-red-600",children:a.lastName})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"username",children:"Username"}),e.jsx(n,{id:"username",name:"username",type:"text",autoComplete:"username",required:!0,value:s.username,onChange:i,placeholder:"Choose a username",className:a.username?"border-red-500":""}),a.username&&e.jsx("p",{className:"text-sm text-red-600",children:a.username})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"email",children:"Email address"}),e.jsx(n,{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:s.email,onChange:i,placeholder:"Enter your email",className:a.email?"border-red-500":""}),a.email&&e.jsx("p",{className:"text-sm text-red-600",children:a.email})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"password",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(n,{id:"password",name:"password",type:m?"text":"password",autoComplete:"new-password",required:!0,value:s.password,onChange:i,placeholder:"Create a password",className:`pr-10 ${a.password?"border-red-500":""}`}),e.jsx(p,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>C(!m),children:m?e.jsx(y,{className:"h-4 w-4 text-gray-400"}):e.jsx(w,{className:"h-4 w-4 text-gray-400"})})]}),a.password&&e.jsx("p",{className:"text-sm text-red-600",children:a.password})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"confirmPassword",children:"Confirm password"}),e.jsxs("div",{className:"relative",children:[e.jsx(n,{id:"confirmPassword",name:"confirmPassword",type:d?"text":"password",autoComplete:"new-password",required:!0,value:s.confirmPassword,onChange:i,placeholder:"Confirm your password",className:`pr-10 ${a.confirmPassword?"border-red-500":""}`}),e.jsx(p,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>b(!d),children:d?e.jsx(y,{className:"h-4 w-4 text-gray-400"}):e.jsx(w,{className:"h-4 w-4 text-gray-400"})})]}),a.confirmPassword&&e.jsx("p",{className:"text-sm text-red-600",children:a.confirmPassword})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"role",children:"Account Type"}),e.jsxs(I,{value:s.role,onValueChange:P,children:[e.jsx(V,{children:e.jsx(B,{placeholder:"Select account type"})}),e.jsxs(M,{children:[e.jsx(N,{value:"CONSUMER",children:e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsx("span",{className:"font-medium",children:"Consumer"}),e.jsx("span",{className:"text-xs text-gray-500",children:"Watch and comment on videos"})]})}),e.jsx(N,{value:"CREATOR",children:e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsx("span",{className:"font-medium",children:"Creator"}),e.jsx("span",{className:"text-xs text-gray-500",children:"Upload, watch, and comment on videos"})]})})]})]})]}),e.jsx(p,{type:"submit",className:"w-full",disabled:u,children:u?"Creating account...":e.jsxs(e.Fragment,{children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),"Create account"]})})]}),e.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:e.jsx("p",{className:"text-xs text-gray-500 text-center",children:"By creating an account, you agree to our Terms of Service and Privacy Policy."})})]})]}),e.jsxs("p",{className:"text-center text-sm text-gray-600",children:["Already have an account?"," ",e.jsx(h,{to:"/login",className:"font-medium text-primary hover:text-primary/80",children:"Sign in here"})]})]})})};export{Q as default};
