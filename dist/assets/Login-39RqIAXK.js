import{c as v,i as N,d as b,r as o,j as e,a as c,I as p,B as h}from"./index-DJZj13a9.js";import{C,b as S,c as E,d as L,a as k}from"./card-C5JX6E1Y.js";import{A as D,a as I,L as u}from"./alert-DXNIAuY4.js";import{E as P}from"./eye-off-Bkj6rDUL.js";import{E as A}from"./eye-h43dRJCD.js";/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],T=v("log-in",F),R=()=>{const j=N(),{login:y,isLoading:l}=b(),[s,g]=o.useState({email:"",password:"",role:"consumer"}),[t,f]=o.useState(!1),[r,a]=o.useState(""),d=n=>{const{name:m,value:x}=n.target;g(i=>({...i,[m]:x})),r&&a("")},w=async n=>{if(n.preventDefault(),a(""),!s.email||!s.password){a("Please fill in all fields");return}if(await y(s.email,s.password)){const i=new URLSearchParams(window.location.search).get("redirectTo")||"/";j(i)}else a("Invalid email or password. Try using one of the demo accounts.")};return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs(c,{to:"/",className:"inline-flex items-center space-x-2 text-2xl font-bold text-primary",children:[e.jsx("div",{className:"w-10 h-10 bg-primary rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold",children:"CV"})}),e.jsx("span",{children:"CloudVideoShare"})]}),e.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Sign in to your account"}),e.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Or"," ",e.jsx(c,{to:"/signup",className:"font-medium text-primary hover:text-primary/80",children:"create a new account"})]})]}),e.jsxs(C,{children:[e.jsxs(S,{children:[e.jsx(E,{children:"Welcome back"}),e.jsx(L,{children:"Enter your credentials to access your account"})]}),e.jsx(k,{children:e.jsxs("form",{onSubmit:w,className:"space-y-4",children:[r&&e.jsx(D,{variant:"destructive",children:e.jsx(I,{children:r})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"email",children:"Email address"}),e.jsx(p,{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:s.email,onChange:d,placeholder:"Enter your email"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"password",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(p,{id:"password",name:"password",type:t?"text":"password",autoComplete:"current-password",required:!0,value:s.password,onChange:d,placeholder:"Enter your password",className:"pr-10"}),e.jsx(h,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>f(!t),children:t?e.jsx(P,{className:"h-4 w-4 text-gray-400"}):e.jsx(A,{className:"h-4 w-4 text-gray-400"})})]})]}),e.jsx(h,{type:"submit",className:"w-full",disabled:l,children:l?"Signing in...":e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"mr-2 h-4 w-4"}),"Sign in"]})})]})})]}),e.jsxs("p",{className:"text-center text-sm text-gray-600",children:["Don't have an account?"," ",e.jsx(c,{to:"/signup",className:"font-medium text-primary hover:text-primary/80",children:"Sign up here"})]})]})})};export{R as default};
